<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 05</title>
    <style media="screen">
      #display li{
                  list-style-type: none;
                  float: left;
                  width: 10px;
                  background-color: #eee;
                  margin: 1px;
                  position: relative;
                }
    </style>
  </head>
  <body>
    <input type="text" id="num">
    <button type="button" name="button" id="leftin">左侧入</button>
    <button type="button" name="button" id="rightin">右侧入</button>
    <button type="button" name="button" id="leftout">左侧出</button>
    <button type="button" name="button" id="rightout">右侧出</button>
    <button type="button" name="button" id="max">正序排列</button>
    <button type="button" name="button" id="min">逆序排列</button>
    <ul id="display">

    </ul>

    <script type="text/javascript">
        $=function(id){
          return document.getElementById(id);
        }
        var  data = [];
        var num=$("num"),
            leftin=$("leftin"),
            rightin=$("rightin"),
            leftout=$("leftout"),
            rightout=$("rightout"),
            display=$("display"),
            max = $('max'),
            min = $('min');

        leftin.addEventListener('click',function(){
            var lis=display.getElementsByTagName('li');
            var mynum=Number(num.value);
            var top=100-mynum;
            if (lis.length>60) {
              alert('队列元素数量最多限制为60个');
              return;
            }
            if (mynum<10||mynum>100||!mynum) {
              alert("请输入10~100的数");
              return;
            }
            else {
              var li=document.createElement('li');
              li.style.height=mynum+'px';
              li.style.top=top+'px';
              display.insertBefore(li,lis[0]);
            }
        })

        rightin.addEventListener('click',function(){
          var lis=display.getElementsByTagName('li');
          var mynum=Number(num.value);
          var top=100-mynum;
          if (lis.length>60) {
            alert('队列元素数量最多限制为60个');
            return;
          }
          if (!mynum) {
            alert("请输入10~100的数");
            return;
          }
          else {
            var li=document.createElement('li');
            li.style.height=mynum+'px';
            li.style.top=top+'px';
            display.appendChild(li);
          }
        })

        leftout.addEventListener('click',function(){
            var lis=display.getElementsByTagName('li');
            if (lis.length==0) {
              alert('请输入10~100的数');
              return;
            }else {
              display.removeChild(lis[0]);
            }
        })

        rightout.addEventListener('click',function(){
          var lis=display.getElementsByTagName('li');
          if (lis.length==0) {
            alert('请输入10~100的数');
            return;
          }else {
            display.removeChild(lis[lis.length-1]);
          }
        })

        max.addEventListener('click',function(){
            var lis = display.getElementsByTagName('li');
            for(var i=0;i<lis.length;i++){
                data[i] = parseInt(lis[i].style.height)
            }
            data.sort(function(a,b){
                return  a-b;
            })
            for(var i=0;i<lis.length;i++){
                lis[i].style.height = data[i] + "px";
                lis[i].style.top = 100 - data[i] + "px";
            }
        })

         min.addEventListener('click',function(){
            var lis = display.getElementsByTagName('li');
            for(var i=0;i<lis.length;i++){
                data[i] = parseInt(lis[i].style.height)
            }
            data.sort(function(a,b){
                return  b-a;
            })
            for(var i=0;i<lis.length;i++){
                lis[i].style.height = data[i] + "px";
                lis[i].style.top = 100 - data[i] + "px";
            }
        })

    </script>
  </body>
</html>
